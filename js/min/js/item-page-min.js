"use strict";document.addEventListener("DOMContentLoaded",function(e){var t=document.querySelectorAll(".swiper2-slide"),r=document.querySelectorAll(".product-card__image-wrap");t.forEach.call(r,function(e,t){e.addEventListener("mouseenter",function(t){var r=e.dataset.index;e.children[1].classList.add("wrap--active"),o.src="./img/top-products/zoom-image"+r+".jpg"}),e.addEventListener("mouseleave",function(t){return e.children[1].classList.remove("wrap--active"),!1})});var i=document.querySelector(".header"),a=document.querySelector(".header__menu");window.addEventListener("scroll",function(){scrollY>100?(i.classList.add("header--purple"),a.classList.add("header__menu--purple")):(i.classList.remove("header--purple"),a.classList.remove("header__menu--purple"))});var s=document.querySelector(".zoom"),n=document.querySelectorAll("[data-toggle=zoom]"),c=document.querySelector(".zoom__close"),l=function(){return s.classList.remove("zoom--visible")},o=document.getElementById("zoomImg");document.querySelectorAll(".swiper2-slide");n.forEach(function(e){e.addEventListener("click",function(e){s.classList.add("zoom--visible")})}),c.addEventListener("click",l),document.addEventListener("keydown",function(e){"Escape"===e.key&&l()}),s.addEventListener("click",function(e){e.target===s&&l()});var u=document.querySelector(".menu__button"),d=document.querySelector(".menu__button-item"),m=document.querySelector(".menu__nav");u.addEventListener("click",function(e){e.preventDefault(),u.classList.toggle("menu__button--light--active"),d.classList.toggle("menu__button-item--light--active"),m.classList.toggle("menu__nav--active")});var v=document.querySelector(".cart__modal"),p=document.querySelector(".cart__link");document.querySelectorAll("[data-toggle=cart]").forEach(function(e){p.addEventListener("click",function(e){e.preventDefault()}),e.addEventListener("click",function(){v.classList.toggle("cart__modal--visible")})});var _=document.querySelector(".size");document.addEventListener("keydown",function(e){"Escape"===e.key&&(v.classList.remove("cart__modal--visible"),g.classList.remove("search--visible"),_.classList.remove("size--visible"))});var w=document.querySelector(".search__link"),$=document.querySelector(".search__close"),g=document.querySelector(".search"),h=function(){return g.classList.toggle("search--visible")};w.addEventListener("click",function(e){e.preventDefault(),h()}),$.addEventListener("click",h),g.addEventListener("click",function(e){e.target===g&&g.classList.remove("search--visible")})}),$(document).ready(function(){$(".offers__form").validate({errorClass:"invalid",errorElement:"div",rules:{userEmail:{required:!0,email:!0,minlength:8}},messages:{userEmail:{required:"Заполните поле",email:"Введите корректный email",minlength:"Email не может содержать менее 8 символов"}}})});var reviewForm=$(".review__form");reviewForm.validate({errorClass:"invalid",errorElement:"div",rules:{userName:{required:!0,minlength:2,maxlength:15},userEmail:{required:!0,email:!0,minlength:8},userText:{required:!0,minlength:10}},messages:{userName:{required:"Заполните поле",minlength:"Имя не короче двух букв",maxlength:"Имя не длиннее пятнадцати букв"},userEmail:{required:"Заполните поле",email:"Введите корректный email",minlength:"Email не может содержать менее 8 символов"},userText:{required:"Напишите ваш отзыв",minlength:"В отзыве должно быть не менее 10 символов"}}});var swiper2=new Swiper(".swiper2",{loop:!0,slidesPerView:4,spaceBetween:46,navigation:{nextEl:".swiper-button-next2",prevEl:".swiper-button-prev2"},breakpoints:{1350:{slidesPerView:4,spaceBetween:46},992:{slidesPerView:4,spaceBetween:10},575:{slidesPerView:2,spaceBetween:10},220:{slidesPerView:1,spaceBetween:0}}}),swiper3=new Swiper(".swiper3",{loop:!0,slidesPerView:1,navigation:{nextEl:".swiper-button-next3",prevEl:".swiper-button-prev3"}}),slide=$(".swiper3-slide"),previewBlock=$(".item__preview-block"),previewWrap=$(".preview__image-wrap"),previewImage=$(".swiper-slide__image"),switchSlide=function(){return $("#1").toggleClass("preview__image-wrap--active")};switchSlide(),previewWrap.on("click",function(e){var t=e.currentTarget.id;swiper3.slideTo(t);var r=e.currentTarget;$(previewImage).each(function(e){return $(previewWrap).removeClass("preview__image-wrap--active")}),$(r).addClass("preview__image-wrap--active")});var next3=$(".swiper-button-next3"),prev3=$(".swiper-button-prev3");next3.on("click",function(){var e=swiper3.realIndex+1,t=document.getElementById(e);$(previewWrap).removeClass("preview__image-wrap--active"),$(t).addClass("preview__image-wrap--active")}),prev3.on("click",function(){var e=swiper3.realIndex+1,t=document.getElementById(e);$(previewWrap).removeClass("preview__image-wrap--active"),$(t).addClass("preview__image-wrap--active")});var scrollUp=$(".scroll-up__button");scrollUp.click(function(e){return e.preventDefault(),$("body,html").animate({scrollTop:0},1500),!1});var cart=$(".cart__modal");$(window).on("scroll",function(){if(!($(window).width()>785))return!0;scrollY>100?cart.addClass("cart--scroll"):cart.removeClass("cart--scroll")}),$(document).mouseup(function(e){cart.is(e.target)||0!==cart.has(e.target).length||cart.removeClass("cart__modal--visible")});var header=$(".header"),menu=$(".header__menu");$(window).on("scroll",function(){scrollY>100?menu.addClass("header__menu--dark--active"):menu.removeClass("header__menu--dark--active")});var itemWrap=$(".item__input-wrap"),item=$(".item__color-choice");itemWrap.on("click",function(e){var t=e.target,r=$(item).index(t);$(item).each(function(e){return $(item).removeClass("item-"+(e+1))}),$(t).addClass("item-"+(r+1))});var sizeWrap=$(".item__size-choise-wrap"),sizeVal=$(".item__size-choice-value");sizeWrap.on("click",function(e){var t=e.target;$(sizeVal).index(t);$(sizeVal).each(function(e){return $(sizeVal).removeClass("item__size-choice-value--active")}),$(t).addClass("item__size-choice-value--active")}),$(".card__select").on("click",".card-select__head",function(){$(this).hasClass("open")?($(this).removeClass("open"),$(this).next().fadeOut()):($(".card-select__head").removeClass("open"),$(".card-select__list").fadeOut(),$(this).addClass("open"),$(this).next().fadeIn())}),$(".card__select").on("click",".card-select__item",function(){$(".card-select__head").removeClass("open"),$(this).parent().fadeOut(),$(this).parent().prev().text($(this).text()),$(this).parent().prev().prev().val($(this).text())}),$(document).click(function(e){$(e.target).closest(".card__select").length||($(".card-select__head").removeClass("open"),$(".card-select__list").fadeOut());var t=$(".size"),r=$(".size__close"),i=$(".item__size-table-button"),a=$(".size__col"),s=$(".size__row--purpule"),n=function(){return $(t).removeClass("size--visible")};i.on("click",function(){return $(t).addClass("size--visible")}),r.on("click",n),$(document).on("click",function(e){t.is(e.target)&&n()}),s.on("click",function(e){var t=e.currentTarget;$(s).index(t);$(a).each(function(e){return $(s).removeClass("size__row--purpule--active")}),$(t).addClass("size__row--purpule--active")});var c=$(".tabs__links"),l=$(".tabs > div");c.click(function(e){return e.preventDefault(),l.hide(),l.filter(e.target.hash).show(),$(c).removeClass("about__item--active"),$(this).addClass("about__item--active"),!1});var o=$(".access"),u=$(".access__close"),d=$(".user__link");u.on("click",function(){o.toggleClass("access--visible")}),d.on("click",function(){o.toggleClass("access--visible")}),o.on("click",function(e){o.is(e.target)&&o.removeClass("access--visible")}),$(document).one("mouseenter",function(e){(e.currentTarget="document")&&$('<script type="text/javascript" > (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)}; m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)}) (window, document, "script", "https://cdn.jsdelivr.net/npm/yandex-metrica-watch/tag.js", "ym")   ; ym(64743577, "init", { clickmap:true, trackLinks:true, accurateTrackBounce:true, webvisor:true }); <\/script> <noscript><div><img src="https://mc.yandex.ru/watch/64743577" style="position:absolute; left:-9999px;" alt="" /></div></noscript>').appendTo("head")})});